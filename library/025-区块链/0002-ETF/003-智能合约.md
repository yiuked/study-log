### 准备

1. 安装 `solidity`编译器

```
https://github.com/ethereum/solidity/releases/tag/
```

2. 安装`abi`工具

```
get clone https://github.com/ethereum/go-ethereum.git
make devtools
```

### 生成钱包

钱包三要素
- 私钥

- 公钥

- 地址

  示例代码

```
package main

import (
	"crypto/ecdsa"
	"fmt"
	"github.com/ethereum/go-ethereum/common/hexutil"
	"github.com/ethereum/go-ethereum/crypto"
	"golang.org/x/crypto/sha3"
	"log"
)

func main() {
	privateKey, err := crypto.GenerateKey()
	if err != nil {
		log.Fatal(err)
	}

	privateKeyBytes := crypto.FromECDSA(privateKey)
	fmt.Println(hexutil.Encode(privateKeyBytes)[2:]) // 私钥内容
	publicKey := privateKey.Public()
	publicKeyECDSA, ok := publicKey.(*ecdsa.PublicKey)
	if !ok {
		log.Fatal("cannot assert type: publicKey is not of type *ecdsa.PublicKey")
	}
	publicKeyBytes := crypto.FromECDSAPub(publicKeyECDSA)
	fmt.Println(hexutil.Encode(publicKeyBytes)[4:]) // 公钥内容
	address := crypto.PubkeyToAddress(*publicKeyECDSA).Hex()
	fmt.Println(address) // 公钥地址(钱包地址)
	hash := sha3.NewLegacyKeccak256()
	hash.Write(publicKeyBytes[1:])
	fmt.Println(hexutil.Encode(hash.Sum(nil)[12:])) // 0x96216849c49358b10257cb55b28ea603c874b05e
}
```



### 开始

1.创建`simple.sol`文件

```
// SPDX-License-Identifier: GPL-3.0
pragma solidity >=0.4.16 <0.9.0;

contract SimpleStorage {
    uint storedData;

    function set(uint x) public {
        storedData = x;
    }

    function get() public view returns (uint) {
        return storedData;
    }
}
```

2. 生成`abi`文件

```
solc --abi simple.sol -o ./abi
```

3. 生成EVM字节码文件

```
solc --bin .\simple.sol -o bin
```

4. 生成go的调用文件

```
--abi=abi/SimpleStorage.abi --pkg=store --out=store.go
```



https://learnblockchain.cn/docs/solidity/layout-of-source-files.html

https://www.bookstack.cn/read/ethereum-development-with-go-book-zh/transfer-eth-README.md