## GDB调试
GDB调试原理是通过在源代码进行gcc|g++编译过程加入-g参数创建符号表，符号表包含了程序中使用的变量名称的列表,
同时关闭所有的优化机制，以便程序执行过程中严格按照原来的源代码进行。

### 一、开启方式
如果GDB调试未开启GDB的程序，会因为找不到符号表无法继续:
```
Reading symbols from ./mainx...(no debugging symbols found)...done.
(gdb) list
No symbol table is loaded.  Use the "file" command.
(gdb)
```

那么，我们如何在程序的编译过程开启GDB的调试模式呢？

1. gcc 模式
  ```
  $ gcc -g -o main main.c
  ```
  > 通过加入 -g 参数启用GDB调试.

2. make 模式  
  make模式旨在根据Makefile文件的内容进行编译工作，要开启GDB调试，在Makeifle文件中加入`CFLAGS = -g`则可
  ```
  CFLAGS = -g
  main:main.o
      gcc -o {$CFLAGS} main main.c
  ```

3. cmake 模式    
  ```
  # cmake最低版本需求，不加入此行会受到警告信息
  CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

  # 项目名称
  PROJECT(MAIN)

  # 生成应用程序 hello (在windows下会自动生成hello.exe)
  ADD_EXECUTABLE(main main.c)

  # 设置GDB调试支持
  set(CMAKE_BUILD_TYPE "Debug")
  set(CMAKE_CXX_FLAGS_DEBUG "$ENV{CXXFLAGS} -O0 -Wall -g -ggdb")
  set(CMAKE_CXX_FLAGS_RELEASE "$ENV{CXXFLAGS} -O3 -Wall")
  ```

### 二、用法

1. 设置断点  
添加断点,使用b或者break:  
  ```      
    break main               // 给指定的函数添加断点  
    break main.c:main        // 给main.c文件中的main函数添加断点  
    break 10                 // 在第10行添加断点  
    break main.c:10          // 给main.c文件中的第10行添加断点  
    break 0x00000000004007e8 // 给指定的内存地址添加断点  
    break +1                 // +偏移量(目前还不知道怎么用)  
    break -1                 // -偏移量(目前还不知道怎么用)  
    break 10 if value==9     // 给断点添加触发条件，如第10行，当vlaue=9时才会触发
  ```
2. 查看断点
  ```
  info b // 或者info break
  ```
3. 给已添加的断点添加触发条件
  ```
  condition 1 if index=2       // 给断点ID为1的断点添加条件，condition 断点编号：除触发条件
  ```
4. 删除断点
  ```
  delete 1            // 删除断点ID为1的断点
  delete              // 删除所有断点
  clear  10           // 删除第10行断点（clear不能删除指定断点ID的断点）
  clear  main         // 删除main函数的断点
  crear  main.c:10    // 删除文件main.c的第10行断点
  clrer  main.c:main  // 删除文件main.c的main函数断点
  ```
