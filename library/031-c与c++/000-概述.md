### 一、关于编译器
小明一个XXX程序员，今天他想对c语言的编译过程进行一个系统的学习，而大神小度则是他今天的导师。  

小度首先问了小明一个问题：C语言常用的编译器有哪些呢？  

还好小明上课前还是做了一定的功课，不假思索的回答：
> 1. GNU Compiler Collection 或称 GCC，它可以编译很多种编程语言（括C、C++、Objective-C、Fortran、Java等等）
> 2. Microsoft C 或称 MS C
> 3. Borland Turbo C 或称 Turbo C

小度：很好，除了以上三种还有LCC、TCC、PCC、Clang、Pelles C等等，不过目前GCC应用最为广泛，今天我们的课题就以GCC为我们的编译器。

### 二、关于GCC
* 在小度导师的指定下，小明首先写一个简单c程序，程序包含两个c源文件，于是他很快就想到了用gcc命令编译它。
```
gcc -o hellWorld hello.c world.c
```
> 1. gcc在执行编译工作的时候，总共需要4步：  
  > a. 预处理,生成 .i 的文件[预处理器cpp]  
  > b. 将预处理后的文件不转换成汇编语言, 生成文件 .s [编译器egcs]  
  > c. 由汇编变为目标代码(机器代码)生成 .o 的文件[汇编器as]  
  > d. 连接目标代码, 生成可执行程序 [链接器ld]  
> 2. 常用命令:  
  > a. -x 指定编译的语言  
  > b. -c 执行（1、2、3），不执行4，生成 .o 的 obj 文件,gcc默认执行（1、2、3、4）生成可执行文件  
  > c. -o 批量输出文件  
  > d. -g 创建符号表，符号表包含了程序中使用的变量名称的列表,同时关闭所有的优化机制，以便程序执行过程中严格按照原来的C代码进行。主要用于gdb调试。  


* 写完第一个程序后，小明想来点有挑战的，他一口气写了一个包含20个c源文件的程序，小明想到20个c文件编译的场景:
```
gcc -o main file1.c file2.c file3.c ... file20.c
```  
感觉是不是有点过长，如果后期继续增加新的功能，文件再增多，那不得无休止的延长下去，
小明顿时感觉到头皮发麻。

### 三、关于make工具
小明不得不求助导师小度，小度乐道，你可以用make工具呀。那么小度说的make工具是什么呢？
  > 1. make工具可以看成是一个智能的批处理工具，它本身并没有编译和链接的功能，  
  而是用类似于批处理的方式，通过调用makefile文件中用户指定的命令来进行编译和链接的。

  > 2. make 根据makefile中的内容通常可以按以下顺序执行：  
    > a. make 根据makefile中的文件进行gcc编译，并生成相关的可执行文件。  
    > b. make test 执行完make时，可执行文件并没有安装到系统中，通过make test可以检测是否可以正常的安装到系统中。  
    > c. make install 将可执行文件安装到系统中  
    > d. make clear 清除编译过程生成的临时文件  
    > e. make remove 将可执行文件从系统中移除  

### 四、关于makefile
1. makefile是什么？
Make可以从一个名为makefile的文件中获得如何构建你所写程序的依赖关系，Makefile中列出了每个目标文件以及如何由其他文件来生成它。
当你编写一个程序时，你可以为它编写一个makefile文件，这样你就可以使用Make来编译和安装这个程序。

makefile就像是一个设计图，那编写makefile的人就是设计师，他需要设计gcc应该如何进行编译链接，
而make则像是一个工程师，拿到设计图后，可以根据设计图上的流程进行工作。
当然编写makefile中的语言，则像设计师与工程师的一种约定，大家只有
遵循这种预定才能保证设计图中的结果能被设计师理解。

2. makefile在一些简单的工程完全可以人工手下，但是当工程非常大的时候，
手写makefile也是非常麻烦的，如果换了个平台makefile又要重新修改。


### 五、关于CMake
8. 这时候就出现了Cmake这个工具，cmake就可以更加简单的生成makefile文件给上面那个make用。
当然cmake还有其他功能，就是可以跨平台生成对应平台能用的makefile，你不用再自己去修改了。
  > cmake升级
  ```
  cmake --version
  wget https://cmake.org/files/v3.9/cmake-3.9.2.tar.gz
  tar -xvf cmake-3.9.2.tar.gz
  cd cmake-3.9.2
  ./configure
 ```

### 六、关于CMakeLists.txt
9. 可是cmake根据什么生成makefile呢？它又要根据一个叫CMakeLists.txt文件
（学名：组态档）去生成makefile。
https://blog.csdn.net/kai_zone/article/details/82656964

10. 到最后CMakeLists.txt文件谁写啊？亲，是你自己手写的。
```
#cmake最低版本需求，不加入此行会受到警告信息
CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
PROJECT(HELLO) #项目名称
#把当前目录(.)下所有源代码文件和头文件加入变量SRC_LIST
AUX_SOURCE_DIRECTORY(. SRC_LIST)
#生成应用程序 hello (在windows下会自动生成hello.exe)
ADD_EXECUTABLE(hello ${SRC_LIST})
```
cmakes配置CMakeLists.txt使用
```
$ ls
CMakeLists.txt  main.c
$ mkdir build
$ cd build/
$ cmake ..
```
### 关于GDB
11. 当然如果你用IDE，类似VS这些一般它都能帮你弄好了，你只需要按一下那个三角形

原文：https://www.zhihu.com/question/36609459

### 关于GNU
该系统的基本组成包括GNU编译器套装（GCC）、GNU的C库（glibc）、以及GNU核心工具组（coreutils），另外也是GNU除错器（GDB）、GNU二进制实用程序（binutils）的GNU Cashshell中和GNOME桌面环境
