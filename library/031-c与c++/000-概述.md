1. gcc是GNU Compiler Collection（就是GNU编译器套件），也可以简单认为是编译器，
它可以编译很多种编程语言（括C、C++、Objective-C、Fortran、Java等等）。

* 小明首先写一个简单c程序，程序包含两个c源文件，于是他很快就想到了用gcc命令编译它。
```
gcc -o hellWorld hello.c world.c
```
> 1. gcc在执行编译工作的时候，总共需要4步：
    1. 预处理,生成 .i 的文件[预处理器cpp]
    2. 将预处理后的文件不转换成汇编语言, 生成文件 .s [编译器egcs]
    3. 由汇编变为目标代码(机器代码)生成 .o 的文件[汇编器as]
    4. 连接目标代码, 生成可执行程序 [链接器ld]
> 2. 常用命令:
  1. -x 指定编译的语言
  2. -c 执行（1、2、3），不执行4，生成 .o 的 obj 文件,gcc默认执行（1、2、3、4）生成可执行文件
  3. -o 批量输出文件
  4. -g 创建符号表，符号表包含了程序中使用的变量名称的列表
  同时关闭所有的优化机制，以便程序执行过程中严格按照原来的C代码进行。主要用于gdb调试。

* 一个月后，小明的c语言进步神速，他尝试写了一个稍稍复杂一点的c程序，程序包含了20个c源文件
小明想到20个c文件编译的场景:
```
gcc -o main file1.c file2.c file3.c ... file20.c
```  
感觉是不是有点过长，如果后期继续增加新的功能，文件再增多，那不得无休止的延长下去，
小明顿时感觉到头皮发麻。

小明厚着脸皮问身边的大神小王，小王乐道，你可以用make工具呀。那么小王说的make工具是什么呢？
  > 1. make工具可以看成是一个智能的批处理工具，它本身并没有编译和链接的功能，
  而是用类似于批处理的方式，通过调用makefile文件中用户指定的命令来进行编译和链接的。

  > 2. make 根据makefile中的内容通常可以按以下顺序执行：
    1. make 根据makefile中的文件进行gcc编译，并生成相关的可执行文件。
    2. make test 执行完make时，可执行文件并没有安装到系统中，通过make test可以检测是否可以正常的安装到系统中。
    3. make install 将可执行文件安装到系统中
    4. make clear 清除编译过程生成的临时文件
    5. make remove 将可执行文件从系统中移除

5. makefile是什么？
makefile就像是一个设计图，那编写makefile的人就是设计师，他需要设计gcc应该如何进行编译链接，
而make则像是一个工程师，拿到设计图后，可以根据设计图上的流程进行工作。
当然编写makefile中的语言，则像设计师与工程师的一种约定，大家只有
遵循这种预定才能保证设计图中的结果能被设计师理解。

7. makefile在一些简单的工程完全可以人工手下，但是当工程非常大的时候，
手写makefile也是非常麻烦的，如果换了个平台makefile又要重新修改。

8. 这时候就出现了Cmake这个工具，cmake就可以更加简单的生成makefile文件给上面那个make用。
当然cmake还有其他功能，就是可以跨平台生成对应平台能用的makefile，你不用再自己去修改了。
  > cmake升级
  ```
  cmake --version
  wget https://cmake.org/files/v3.9/cmake-3.9.2.tar.gz
  tar -xvf cmake-3.9.2.tar.gz
  cd cmake-3.9.2
  ./configure
 ```

9. 可是cmake根据什么生成makefile呢？它又要根据一个叫CMakeLists.txt文件
（学名：组态档）去生成makefile。
https://blog.csdn.net/kai_zone/article/details/82656964

10. 到最后CMakeLists.txt文件谁写啊？亲，是你自己手写的。
```
#cmake最低版本需求，不加入此行会受到警告信息
CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
PROJECT(HELLO) #项目名称
#把当前目录(.)下所有源代码文件和头文件加入变量SRC_LIST
AUX_SOURCE_DIRECTORY(. SRC_LIST)
#生成应用程序 hello (在windows下会自动生成hello.exe)
ADD_EXECUTABLE(hello ${SRC_LIST})
```
cmakes配置CMakeLists.txt使用
```
$ ls
CMakeLists.txt  main.c
$ mkdir build
$ cd build/
$ cmake ..
```

11. 当然如果你用IDE，类似VS这些一般它都能帮你弄好了，你只需要按一下那个三角形

原文：https://www.zhihu.com/question/36609459
